#N canvas 473 120 575 555 12;
#X obj 120 20 r \$1-recall;
#X obj 40 206 s \$1-return;
#X obj 209 20 r \$1-set;
#X obj 170 90 spigot;
#X obj 170 50 r \$3;
#X obj 40 49 route \$3;
#X obj 170 290 s \$2-\$3;
#X obj 40 20 r \$2-arp;
#X obj 209 50 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 40 90 list store;
#X obj 40 148 list trim;
#X obj 40 119 list prepend \$3;
#X obj 250 120 spigot;
#X obj 250 90 ctlin \$4;
#X obj 320 50 && \$4;
#X obj 320 90 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 320 20 r \$1-ctrl;
#X obj 250 200 spigot;
#X obj 289 150 expr ($f2==0) || ($f1==$f2), f 13;
#X text 320 190 test for omni or matching MIDI input channel, f 17
;
#X text 250 50 MIDI bindings, f 8;
#X obj 377 40 route inchan;
#X floatatom 377 69 5 0 0 0 - - -, f 5;
#X obj 250 300 loadbang;
#X obj 250 360 f \$5;
#X text 210 360 min;
#X text 410 360 max;
#X obj 370 360 f \$6;
#X obj 250 389 pack f f;
#X obj 250 418 t a a;
#X obj 250 447 unpack f f;
#X obj 370 447 expr ($f2-$f1)/127;
#X obj 250 259 expr int(max($f2 \, min($f3 \, $f1*$f4+$f2)));
#X floatatom 250 476 5 0 0 0 - - -, f 5;
#X floatatom 317 476 5 0 0 0 - - -, f 5;
#X floatatom 370 476 5 0 0 0 - - -, f 5;
#X obj 370 389 expr ($f1==0)*(127+$f2)+$f1, f 22;
#X obj 450 360 f \$5;
#X obj 250 329 t b b b;
#X connect 0 0 9 0;
#X connect 2 0 8 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 9 1;
#X connect 7 0 5 0;
#X connect 7 0 21 0;
#X connect 8 0 3 1;
#X connect 9 0 11 0;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 12 0 17 0;
#X connect 13 0 12 0;
#X connect 13 1 18 0;
#X connect 14 0 15 0;
#X connect 15 0 12 1;
#X connect 16 0 14 0;
#X connect 17 0 32 0;
#X connect 18 0 17 1;
#X connect 21 0 22 0;
#X connect 22 0 18 1;
#X connect 23 0 38 0;
#X connect 24 0 28 0;
#X connect 27 0 36 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 1 31 0;
#X connect 30 0 33 0;
#X connect 30 1 34 0;
#X connect 31 0 35 0;
#X connect 32 0 6 0;
#X connect 33 0 32 1;
#X connect 34 0 32 2;
#X connect 35 0 32 3;
#X connect 36 0 28 1;
#X connect 37 0 36 1;
#X connect 38 0 24 0;
#X connect 38 1 27 0;
#X connect 38 2 37 0;
